# Deque

## Конструкторы  
`Deque()` – конструктор по умолчанию  
`Deque(const Deque&)` – конструктор копирования  
`Deque(size_t count)` – создает дек на `count` элементов (инициализирует `T()` или не компилируется, если `T` не имеет конструктора по умолчанию)  
`Deque(size_t count, const T& value)` – создает дек на `count` элементов, инициализированных `value`   

## Операторы
`operator=(const Deque& other)` – копирующее присваивание  

## Размер и проверка на пустоту
`size_t size()` – возвращает текущее количество элементов  
`bool empty()` – возвращает `true`, если дек пуст  

### Доступ к элементам (O(1))
`operator[] (size_t index)` – доступ без проверки границ  
`at(size_t index)` – доступ с проверкой (кидает `std::out_of_range`)  

## Изменение дека (амортизированное O(1))
`push_back(const T&)` – добавление в конец  
`pop_back()` – удаление с конца (без проверок)  
`push_front(const T&)` – добавление в начало  
`pop_front()` – удаление с начала (без проверок)  

## Итераторы
**`iterator`** (поддерживает):  
   - Инкремент (`++`), декремент (`--`)  
   - Сложение/вычитание с числом (`+`, `-`, `+=`, `-=`)  
   - Сравнение (`<`, `>`, `<=`, `>=`, `==`, `!=`)  
   - Разность итераторов (`-`)  
   - Разыменование (`*`, `->`)  
   - `using`-алиасы (`value_type`, `pointer`, `iterator_category`, `reference`)  

**`const_iterator`** (аналогично `iterator`, но запрещает изменение элементов)  
   - Поддерживает неявное приведение из `iterator`  
   - Обратное приведение запрещено  

**`reverse_iterator`** (используется `std::reverse_iterator`)  

## Методы для работы с итераторами
`begin()`, `cbegin()` – итератор на первый элемент  
`end()`, `cend()` – итератор на "элемент за последним" (разыменование – UB)  
   - Декремент `end()` дает последний элемент  
   - Арифметика (`+`, `-`) 
`rbegin()`, `rend()`, `crbegin()`, `crend()` – реверсивные итераторы  

## Вставка и удаление (O(n))
`insert(iterator pos, const T& value)` – вставляет `value` перед `pos`, сдвигая элементы вправо  
`erase(iterator pos)` – удаляет элемент на `pos`, сдвигая элементы влево  

## Гарантии безопасности
**Строгая гарантия исключений**:  
   - При исключении в конструкторе/операторе `T` дек остается в исходном состоянии  
   - Исключение пробрасывается в вызывающий код  
   
**Инвалидация итераторов/ссылок**:  
   - `push_back/push_front` не инвалидируют ссылки/указатели на другие элементы  
   - `pop_back/pop_front` не инвалидируют итераторы на другие элементы  
Константный дек возвращает `const_iterator` из `begin()`/`end()`  

## Ограничения
Не требуется конструктор по умолчанию у `T` (кроме `Deque(size_t count)`)  